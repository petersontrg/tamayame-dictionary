{% extends "layout.html" %}
{% block content %}
<h2 class="text-xl font-bold mb-4">Select Entry to Add Example</h2>

<!-- Browse by Sound -->
<div class="mb-8">
  <h3 class="text-lg font-semibold text-gray-700 mb-2">Browse by Sound (Grouped by Manner)</h3>
  <div class="space-y-3">
    {% set phoneme_groups = {
      "Stops": ["b", "p", "pʼ", "d", "t", "tʼ", "dy", "ty", "tyʼ", "g", "k", "kʼ", "ʼ"],
      "Fricatives": ["s", "sʼ", "sh", "shʼ", "sr", "srʼ", "h"],
      "Affricates": ["dz", "ts", "tsʼ", "(j)", "ch", "chʼ", "dr", "tr", "trʼ"],
      "Taps": ["r", "rʼ"],
      "Liquids": ["w", "wʼ", "y", "yʼ"],
      "Nasals": ["m", "mʼ", "n", "nʼ", "ny", "nyʼ"]
    } %}
    {% for manner, phonemes in phoneme_groups.items() %} 
	  <div>
        <span class="inline-block font-semibold text-gray-700 w-40">{{ manner }}</span>
        {% for ph in phonemes %}
          <a href="{{ url_for('select_entry_for_example', startswith=ph) }}"
             class="inline-block px-2 py-1 mx-1 text-sm border border-indigo-300 rounded hover:bg-indigo-100 {% if startswith == ph %}bg-indigo-600 text-white{% else %}text-indigo-700{% endif %}">
            {{ ph }}
          </a>
        {% endfor %}
      </div>
    {% endfor %}
  </div> 
</div>

<ul class="space-y-2">
  {% for entry in entries %}
    <li>
      <a href="{{ url_for('add_example', entry_id=entry.entry_id) }}"
         class="text-indigo-700 hover:underline font-semibold">
        {{ format_headword(entry.headword, entry.affix_position) }}
      </a>
      {% if entry.pos %} ({{ entry.pos }}){% endif %}
      {% if entry.gloss_en %} — {{ entry.gloss_en }}{% endif %}
      {% if entry.translation_en %} — <em>{{ entry.translation_en }}</em>{% endif %}
    </li>
  {% endfor %}
</ul>
{% endblock %}